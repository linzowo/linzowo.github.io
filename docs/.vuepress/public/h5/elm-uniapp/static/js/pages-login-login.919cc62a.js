(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{2380:function(t,n,e){"use strict";e.r(n);var i=e("7872"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},"2db4":function(t,n,e){var i=e("24fb");n=i(!1),n.push([t.i,".logo-img[data-v-8368aa54]{width:%?280?%}.input-border[data-v-8368aa54]{-webkit-border-radius:5px;border-radius:5px}.input-focus[data-v-8368aa54]{border-color:#0089dc}.link[data-v-8368aa54]{\n\t/* color: #2395ff; */}",""]),t.exports=n},7872:function(t,n,e){"use strict";(function(t){var i=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("5530")),a=e("2f62"),u={name:"login",data:function(){return{inputState:{inputFocusIndex:-1,showBtn:!0,phoneState:{getCodeBtnText:"获取验证码",phone:null,phoneRegExp:/^1[345789]\d{9}$/},codeState:{code:null,codeRegExp:/^\d{6}$/,codeFocus:!1}}}},computed:(0,o.default)({},(0,a.mapState)(["userInfo"])),methods:(0,o.default)((0,o.default)({},(0,a.mapMutations)(["SAVE_LOGIN_STATE","SAVE_USERINFO"])),{},{inputFocus:function(t){this.inputState.inputFocusIndex=t},inputBlur:function(){this.inputState.inputFocusIndex=-1,this.inputState.codeState.codeFocus=!1},linkTo:function(){uni.navigateTo({url:this.$pages_path.file})},inputPhone:function(t){this.inputState.phoneState.phone=t.detail.value,this.inputState.phoneState.phoneRegExp.test(this.inputState.phoneState.phone)?this.inputState.showBtn=!1:this.inputState.showBtn=!0},inputCode:function(t){this.inputState.codeState.code=t.detail.value},getCode:function(){var n=this;if(!this.inputState.showBtn){t.log("获取验证码"),this.inputState.showBtn=!0,this.inputState.codeState.codeFocus=!0;var e=30,i=setInterval((function(){n.inputState.phoneState.getCodeBtnText="已发送(".concat(e--,"s)"),e<=0&&(n.inputState.showBtn=!1,n.inputState.phoneState.getCodeBtnText="重新获取",clearInterval(i))}),1e3)}},loggin:function(){if(this.inputState.phoneState.phone)if(this.inputState.phoneState.phoneRegExp.test(this.inputState.phoneState.phone))if(this.inputState.codeState.code)if(this.inputState.codeState.codeRegExp.test(this.inputState.codeState.code)){t.log("发起登录请求");var n=JSON.parse(JSON.stringify(this.userInfo));n.phone=this.inputState.phoneState.phone,this.SAVE_USERINFO(n),this.SAVE_LOGIN_STATE(!0),getCurrentPages().length<2?uni.switchTab({url:this.$pages_path.index}):uni.navigateBack({delta:1})}else uni.showToast({title:"验证码不正确",icon:"none"});else uni.showToast({title:"请填写验证码",icon:"none"});else uni.showToast({title:"请填写合法手机号",icon:"none"});else uni.showToast({title:"请填写手机号",icon:"none"})}})};n.default=u}).call(this,e("5a52")["default"])},"79f9":function(t,n,e){"use strict";e.r(n);var i=e("e381"),o=e("2380");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("e2c4");var u,s=e("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"8368aa54",null,!1,i["a"],u);n["default"]=c.exports},caf5:function(t,n,e){var i=e("2db4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=e("4f06").default;o("1243d310",i,!0,{sourceMap:!1,shadowMode:!1})},e2c4:function(t,n,e){"use strict";var i=e("caf5"),o=e.n(i);o.a},e381:function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"content flex-sub flex-direction padding-xl"},[e("v-uni-view",{staticClass:"logo flex-sub justify-center margin-top margin-bottom-lg"},[e("v-uni-image",{staticClass:"logo-img",attrs:{src:"https://gw.alicdn.com/tfs/TB13RU4trj1gK0jSZFOXXc7GpXa-1000-405.png",mode:"widthFix"}})],1),e("v-uni-view",{staticClass:"input-box flex-direction"},[e("v-uni-view",{staticClass:"cu-form-group border border-color-c input-border margin-bottom",class:[0==t.inputState.inputFocusIndex?"input-focus":""]},[e("v-uni-input",{attrs:{placeholder:"手机号",name:"input",type:"number"},on:{focus:function(n){arguments[0]=n=t.$handleEvent(n),t.inputFocus(0)},blur:function(n){arguments[0]=n=t.$handleEvent(n),t.inputBlur.apply(void 0,arguments)},input:function(n){arguments[0]=n=t.$handleEvent(n),t.inputPhone.apply(void 0,arguments)},confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.inputState.showBtn?t.loggin():t.getCode()}}}),e("v-uni-button",{staticClass:"cu-btn bg-green shadow",attrs:{disabled:t.inputState.showBtn},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.inputState.phoneState.getCodeBtnText))])],1),e("v-uni-view",{staticClass:"cu-form-group border border-color-c input-border margin-bottom",class:[1==t.inputState.inputFocusIndex?"input-focus":""]},[e("v-uni-input",{attrs:{placeholder:"验证码",name:"input",type:"number",focus:t.inputState.codeState.codeFocus},on:{focus:function(n){arguments[0]=n=t.$handleEvent(n),t.inputFocus(1)},blur:function(n){arguments[0]=n=t.$handleEvent(n),t.inputBlur.apply(void 0,arguments)},input:function(n){arguments[0]=n=t.$handleEvent(n),t.inputCode.apply(void 0,arguments)},confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.loggin.apply(void 0,arguments)}}})],1)],1),e("v-uni-text",{staticClass:"logging-msg margin-bottom"},[e("v-uni-text",[t._v("新用户登录即自动注册，并表示已同意")]),e("v-uni-text",{staticClass:"link-blue",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.linkTo.apply(void 0,arguments)}}},[t._v("《用户服务协议》")]),e("v-uni-text",[t._v("和")]),e("v-uni-text",{staticClass:"link-blue",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.linkTo.apply(void 0,arguments)}}},[t._v("《隐私权政策》")])],1),e("v-uni-view",{staticClass:"btn-box flex-direction flex-sub margin-tb-lg"},[e("v-uni-button",{staticClass:"cu-btn bg-green lg",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.loggin.apply(void 0,arguments)}}},[t._v("登录")])],1),e("v-uni-view",{staticClass:"about flex-sub justify-center"},[e("v-uni-navigator",{staticClass:"text-gray",attrs:{url:"/pages/file/file"}},[t._v("关于我们")])],1)],1)},a=[]}}]);