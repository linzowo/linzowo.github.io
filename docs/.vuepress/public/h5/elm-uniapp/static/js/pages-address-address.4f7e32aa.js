(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-address"],{"05a6":function(t,e,s){"use strict";var n;s.d(e,"b",(function(){return i})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",{staticClass:"address-container flex-direction"},[s("v-uni-view",{staticClass:"cu-bar search flex-sub bg-white padding-tb-sm"},[s("v-uni-navigator",{staticClass:"action",attrs:{url:"../city/city"}},[s("v-uni-text",{staticClass:"text-xs margin-right"},[t._v(t._s(t.userInfo?t.userInfo.currentCity:"未知"))]),s("v-uni-text",{staticClass:"cuIcon-triangledownfill"})],1),s("v-uni-view",{staticClass:"search-form radius padding-tb-lg",style:{marginLeft:0}},[s("v-uni-text",{staticClass:"cuIcon-search"}),s("v-uni-input",{attrs:{value:t.inputText,type:"text",placeholder:"请输入地址","confirm-type":"search"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.InputFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.InputBlur.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.InputEnter.apply(void 0,arguments)}}}),t.inputText?s("v-uni-text",{staticClass:"cuIcon-close text-lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearInput.apply(void 0,arguments)}}}):t._e()],1)],1),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.login,expression:"login"}],staticClass:"content flex-direction"},[t.inputText?t._e():s("v-uni-view",{staticClass:"my-address flex-direction flex-sub"},[s("v-uni-view",{staticClass:"current-address flex-sub flex-direction margin-tb-xs"},[s("v-uni-text",{staticClass:"margin-tb-sm margin-lr text-color-6"},[t._v("当前地址")]),s("v-uni-view",{staticClass:"current-address-content padding-tb-sm padding-lr justify-between flex-sub bg-white align-center"},[s("v-uni-text",{staticClass:"text-bold text-df text-black text-cut",style:{width:"500rpx"}},[t._v(t._s(t.userInfo?t.userInfo.shipAddress.position_name:t.$c_t.address.no_ship_address))]),s("v-uni-text",{staticClass:"text-color-blue flex align-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCurrentPosition.apply(void 0,arguments)}}},[s("v-uni-text",{staticClass:"lg cuIcon-focus text-xl margin-right-xs"}),s("v-uni-text",[t._v("重新定位")])],1)],1)],1),s("v-uni-view",{staticClass:"address-list flex-sub flex-direction margin-tb-xs"},[s("v-uni-text",{staticClass:"margin-tb-sm margin-lr text-color-6"},[t._v("收货地址")]),t._l(t.myAddress,(function(e,n){return s("v-uni-view",{key:n,staticClass:"current-address-content padding-tb-sm padding-lr flex-sub bg-white flex-direction border-color-e",class:[0==n?"":"border-top"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeAddress(n)}}},[s("v-uni-text",{staticClass:"text-sm margin-bottom-xs"},[s("v-uni-text",{staticClass:"text-bold text-df text-black"},[t._v(t._s(e.name))]),null!==e.gender?s("v-uni-text",{staticClass:"margin-lr-xs"},[t._v(t._s(e.gender?"先生":"女士"))]):t._e(),s("v-uni-text",{staticClass:"margin-left-xs"},[t._v(t._s(e.phone))])],1),s("v-uni-text",{staticClass:"text-sm"},[t._v(t._s(e.position_name))])],1)}))],2)],1)],1),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.inputText,expression:"inputText"}],staticClass:"search-res flex-direction"},[t._l(t.searchRes,(function(e,n){return s("v-uni-view",{key:n,staticClass:"current-address-content padding-tb-xs padding-lr flex-sub justify-between bg-white border-color-e align-center",class:[1==n?"":"border-top"]},[s("v-uni-view",{staticClass:"text-sm margin-bottom-xs flex-direction"},[s("v-uni-text",{staticClass:"text-bold text-df text-black"},[t._v(t._s(e.position_name))]),s("v-uni-text",{},[t._v(t._s(e.position_address))])],1),s("v-uni-text",{staticClass:"text-sm margin-lr"},[t._v(t._s(e.distance)+"m")])],1)})),s("v-uni-view",{staticClass:"tips flex-direction align-center text-color-9 padding-lg"},[s("v-uni-text",{staticClass:"text-lg margin-bottom-sm"},[t._v("找不到地址？")]),s("v-uni-text",{staticClass:"text-sm"},[t._v("请尝试只输入小区、写字楼或学校名")]),s("v-uni-text",{staticClass:"text-sm"},[t._v("详细地址（如门牌号）可稍后输入")])],1)],2)],1)},a=[]},"3dd8":function(t,e,s){"use strict";s.r(e);var n=s("d48a"),i=s.n(n);for(var a in n)"default"!==a&&function(t){s.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},"680d":function(t,e,s){"use strict";s.r(e);var n=s("05a6"),i=s("3dd8");for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);var r,c=s("f0c5"),u=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"11a8e05c",null,!1,n["a"],r);e["default"]=u.exports},d48a:function(t,e,s){"use strict";(function(t){var n=s("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(s("5530")),a=s("2f62"),r={data:function(){return{inputText:"",myAddress:[],searchRes:[]}},onLoad:function(){var e=uni.getStorageSync("city_data");e||this.$http.get.city_data().then((function(e){uni.setStorage({key:"city_data",data:JSON.stringify(e),success:function(){t.log("存储城市成功")}})}),(function(e){t.log("请求城市列表信息失败")}))},created:function(){var e=this;if(this.login){try{var s=uni.getStorageSync("my_address");s&&(this.myAddress=JSON.parse(s))}catch(n){t.log("获取缓存失败")}this.myAddress&&this.myAddress.length||this.$http.get.address_data().then((function(s){e.myAddress=s.my_address,uni.setStorage({key:"my_address",data:JSON.stringify(s.my_address),success:function(){t.log("存储my_address成功")}})}),(function(e){t.log("请求失败",e)}))}},onNavigationBarButtonTap:function(t){0==t.index&&this.login&&uni.redirectTo({url:"/pages/address/add_address"}),0!=t.index||this.login||uni.redirectTo({url:"/pages/login/login"})},computed:(0,i.default)({},(0,a.mapState)(["userInfo","login"])),methods:(0,i.default)({InputFocus:function(t){},InputBlur:function(t){},InputEnter:function(t){this.inputText=t.detail.value,this.searchAddress()},clearInput:function(){this.inputText=""},searchAddress:function(){var e=this;this.$http.get.address_data().then((function(t){e.searchRes=t.search_res}),(function(s){t.log("请求失败",s),e.searchRes=[]}))},getCurrentPosition:function(){uni.getLocation({type:"wgs84",success:function(e){t.log("获取到了当前的位置坐标但是没有定位api所以没法操作",e)}})},changeAddress:function(t){this.SAVE_SHIP_ADDRESS(this.myAddress[t]),this.userInfo.shipAddress=JSON.parse(JSON.stringify(this.myAddress[t]))}},(0,a.mapMutations)(["SAVE_SHIP_ADDRESS"]))};e.default=r}).call(this,s("5a52")["default"])}}]);