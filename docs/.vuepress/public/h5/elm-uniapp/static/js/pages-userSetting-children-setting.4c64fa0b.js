(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-userSetting-children-setting"],{"1f31":function(t,e,n){"use strict";n.r(e);var s=n("f2f1"),a=n("a885");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var o,u=n("f0c5"),r=Object(u["a"])(a["default"],s["b"],s["c"],!1,null,"2e9bf615",null,!1,s["a"],o);e["default"]=r.exports},"44da":function(t,e,n){"use strict";(function(t){var s=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(n("f3f3")),i=n("2f62"),o={data:function(){return{mode:null,usernameInput:"",phoneCode:"",passwordInput:{old:"",new:"",confirm:""},inputState:{showBtn:!1,phoneState:{getCodeBtnText:"获取验证码"}}}},onLoad:function(e){t.log(e),this.mode=e.mode},computed:(0,a.default)({showSavePasswordBtn:function(){return!(""!==this.passwordInput.old&&""!==this.passwordInput.new&&""!==this.passwordInput.confirm&&this.passwordInput.new==this.passwordInput.confirm)}},(0,i.mapState)(["userInfo"])),methods:(0,a.default)({},(0,i.mapMutations)(["SAVE_USERINFO"]),{setPassword:function(e){this.showSavePasswordBtn||(t.log("存储新密码",e),this.$refs.codingPopup.open())},setPhone:function(){6==this.phoneCode.length&&this.$refs.codingPopup.open()},setUsername:function(e){if(this._.inRange(this.usernameInput.length,5,25)){t.log(e.detail.value);var n=JSON.parse(JSON.stringify(this.userInfo));n.name=this.usernameInput,t.log(n),this.SAVE_USERINFO(n),uni.navigateBack({delta:1})}},getCode:function(){var e=this;if(!this.inputState.showBtn){t.log("获取验证码"),this.inputState.showBtn=!0;var n=30,s=setInterval((function(){e.inputState.phoneState.getCodeBtnText="已发送(".concat(n--,"s)"),n<=0&&(e.inputState.showBtn=!1,e.inputState.phoneState.getCodeBtnText="重新获取",clearInterval(s))}),1e3)}}})};e.default=o}).call(this,n("5a52")["default"])},a885:function(t,e,n){"use strict";n.r(e);var s=n("44da"),a=n.n(s);for(var i in s)"default"!==i&&function(t){n.d(e,t,(function(){return s[t]}))}(i);e["default"]=a.a},f2f1:function(t,e,n){"use strict";var s,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"flex-direction padding-top"},["username"==t.mode?n("v-uni-form",{staticClass:"flex-direction",on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.setUsername.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"bg-white padding"},[n("v-uni-input",{staticClass:"flex-sub",attrs:{name:"username",placeholder:"用户名"},model:{value:t.usernameInput,callback:function(e){t.usernameInput=e},expression:"usernameInput"}})],1),n("v-uni-view",{staticClass:"padding-lr flex-direction"},[n("v-uni-view",{staticClass:"padding-tb-sm"},[n("v-uni-text",{staticClass:"text-xs text-color-9"},[t._v("用户名只能修改一次（5-24个字）")])],1),n("v-uni-view",{staticClass:"flex-sub"},[n("v-uni-button",{staticClass:"cu-btn lg flex-sub",class:[t._.inRange(t.usernameInput.length,5,25)?"bg-green":"bg-grey"],attrs:{"form-type":"submit"}},[t._v("确认修改")])],1)],1)],1):t._e(),"phone"==t.mode?n("v-uni-form",{staticClass:"flex-direction",on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.setUsername.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"bg-white flex-direction padding-lr text-lg text-color-3"},[n("v-uni-view",{staticClass:"justify-between align-center border-bottom border-color-e padding-tb"},[n("v-uni-view",{staticClass:"align-center"},[n("v-uni-text",{staticClass:"margin-right-xl"},[t._v("手机号")]),n("v-uni-text",[t._v(t._s(t.userInfo.phone))])],1),n("v-uni-button",{staticClass:"cu-btn bg-green shadow",attrs:{disabled:t.inputState.showBtn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.inputState.phoneState.getCodeBtnText))])],1),n("v-uni-view",{staticClass:"padding-tb"},[n("v-uni-text",{staticClass:"margin-right-xl"},[t._v("验证码")]),n("v-uni-input",{attrs:{type:"number",placeholder:"请输入验证码",name:"code"},model:{value:t.phoneCode,callback:function(e){t.phoneCode=e},expression:"phoneCode"}})],1)],1),n("v-uni-view",{staticClass:"margin-top padding-lr"},[n("v-uni-button",{staticClass:"cu-btn bg-green flex-sub shadow",attrs:{disabled:6!==t.phoneCode.length},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setPhone.apply(void 0,arguments)}}},[t._v("验证后绑定新手机号")])],1),n("v-uni-view",{staticClass:"margin-top"},[n("v-uni-text",[t._v("注意本页未提供相关短信接口，上述操作仅为模拟过程")])],1)],1):t._e(),"password"==t.mode?n("v-uni-form",{staticClass:"flex-direction",on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.setPassword.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"flex-direction bg-white padding-sm"},[n("v-uni-view",{staticClass:"padding-lr-xs padding-tb-sm bg-grey-f7"},[n("v-uni-input",{staticClass:"flex-sub",attrs:{name:"oldpassword",type:"password",placeholder:"旧密码",password:!0},model:{value:t.passwordInput.old,callback:function(e){t.$set(t.passwordInput,"old",e)},expression:"passwordInput.old"}})],1),n("v-uni-view",{staticClass:"padding-lr-xs padding-tb-sm bg-grey-f7 margin-tb-sm"},[n("v-uni-input",{staticClass:"flex-sub",attrs:{name:"newpassword",type:"password",placeholder:"新密码",password:!0},model:{value:t.passwordInput.new,callback:function(e){t.$set(t.passwordInput,"new",e)},expression:"passwordInput.new"}})],1),n("v-uni-view",{staticClass:"padding-lr-xs padding-tb-sm bg-grey-f7"},[n("v-uni-input",{staticClass:"flex-sub",attrs:{name:"confirmpassword",type:"password",placeholder:"确认密码",password:!0},model:{value:t.passwordInput.confirm,callback:function(e){t.$set(t.passwordInput,"confirm",e)},expression:"passwordInput.confirm"}})],1)],1),n("v-uni-view",{staticClass:"margin-top-xl padding-lr"},[n("v-uni-button",{staticClass:"flex-sub bg-green",attrs:{"form-type":"submit",disabled:t.showSavePasswordBtn,"hover-class":"defaultTap"}},[t._v("确认并保存")])],1)],1):t._e(),n("v-uni-view",{},[n("codingPopup",{ref:"codingPopup"})],1)],1)},i=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s}))}}]);