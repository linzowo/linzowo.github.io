(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-invoice-edit_invoice"],{"04cd":function(t,i,e){"use strict";e.r(i);var n=e("4a4e"),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=a.a},"4a4e":function(t,i,e){"use strict";(function(t){e("c740"),e("a434"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{invoice:null,invoiceList:null,invoiceIndex:null,curType:0,radioItems:["单位","个人"],nameInput:"",taxidInput:""}},onLoad:function(t){this.invoiceIndex=t.index},created:function(){var i=this;try{this.invoiceList=JSON.parse(uni.getStorageSync("invoice_list"))}catch(e){uni.showModal({title:"提示",content:"获取发票数据失败",success:function(i){i.confirm?t.log("用户点击确定"):i.cancel&&t.log("用户点击取消"),uni.navigateBack({delta:1})}})}this.invoice=this.invoiceList[this.invoiceIndex],this.curType=this.radioItems.findIndex((function(t){return i.invoice.type==t})),this.nameInput=this.invoice.name,this.taxidInput=this.invoice.tax_id},methods:{deleteInvoice:function(){this.invoiceList.splice(this.invoiceIndex,1);try{uni.setStorageSync("invoice_list",JSON.stringify(this.invoiceList)),uni.navigateTo({url:this.$pages_path.choose_invoice,fail:function(i){t.log(i)}})}catch(i){uni.showToast({title:"删除失败，请重试",duration:2e3,icon:"none"})}},addInvoice:function(i){var e=i.detail.value;if(e.name.length>20||!e.name.length)uni.showToast({title:"抬头不符合规范请填写正确抬头",duration:2e3,icon:"none"});else if(/^[0-9a-zA-Z]*$/.test(e.tax_id)&&""!=e.tax_id){e.type=this.radioItems[e.type],e.id=this.invoiceList[this.invoiceIndex].id,this.invoiceList[this.invoiceIndex]=e;try{uni.setStorageSync("invoice_list",JSON.stringify(this.invoiceList)),uni.navigateTo({url:this.$pages_path.choose_invoice,fail:function(i){t.log(i)}})}catch(i){uni.showToast({title:"保存失败，请重试",duration:2e3,icon:"none"})}}else uni.showToast({title:"税号不符合规范请重新填写",duration:2e3,icon:"none"})},radioChange:function(t){this.curType=t.detail.value},clearInput:function(t){this[t]=""}}};i.default=n}).call(this,e("5a52")["default"])},d4a7:function(t,i,e){"use strict";var n,a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"flex-direction padding-tb"},[e("v-uni-form",{on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.addInvoice.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"form-list flex-direction"},[e("v-uni-view",{staticClass:"bg-white border-bottom border-color-e padding flex-sub align-center"},[e("v-uni-view",{staticClass:"text-color-3 text-bold margin-right-xs"},[e("v-uni-text",[t._v("类型")])],1),e("v-uni-radio-group",{staticClass:"flex",attrs:{name:"type"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.radioChange.apply(void 0,arguments)}}},t._l(t.radioItems,(function(i,n){return e("v-uni-view",{key:n,staticClass:"border border-color-c margin-lr-xs padding-tb-xs padding-lr border-radius-10",class:[n==t.curType?"border-color-blue text-blue":""]},[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e("v-uni-radio",{attrs:{id:n+"",value:n+"",checked:n==t.curType}})],1),e("v-uni-label",{staticClass:"label-2-text",attrs:{for:n+""}},[e("v-uni-text",[t._v(t._s(i))])],1)],1)})),1)],1),e("v-uni-view",{staticClass:"bg-white justify-between align-center border-bottom border-color-e padding flex-sub align-center"},[e("v-uni-view",{staticClass:"align-center flex-sub"},[e("v-uni-view",{staticClass:"text-color-3 text-bold margin-right-xs"},[e("v-uni-text",[t._v("抬头")])],1),e("v-uni-view",{staticClass:"flex-sub margin-right-xs"},[e("v-uni-input",{staticClass:"flex flex-sub",attrs:{placeholder:"请填写准确的抬头名称",maxlength:"20",name:"name"},model:{value:t.nameInput,callback:function(i){t.nameInput=i},expression:"nameInput"}})],1)],1),e("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:t.nameInput,expression:"nameInput"}],staticClass:"lg text-gray cuIcon-roundclosefill text-xl",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clearInput("nameInput")}}})],1),0==t.curType?e("v-uni-view",{staticClass:"flex-direction"},[e("v-uni-view",{staticClass:"bg-white justify-between align-center border-bottom border-color-e padding flex-sub align-center"},[e("v-uni-view",{staticClass:"align-center flex-sub"},[e("v-uni-view",{staticClass:"text-color-3 text-bold margin-right-xs"},[e("v-uni-text",[t._v("税号")])],1),e("v-uni-view",{staticClass:"flex-sub margin-right-xs"},[e("v-uni-input",{staticClass:"flex flex-sub",attrs:{placeholder:"请填写「税号」或「社会信用代码」",name:"tax_id"},model:{value:t.taxidInput,callback:function(i){t.taxidInput=i},expression:"taxidInput"}})],1)],1),e("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:t.taxidInput,expression:"taxidInput"}],staticClass:"lg text-gray cuIcon-roundclosefill text-xl",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clearInput("taxidInput")}}})],1),e("v-uni-view",{staticClass:"padding text-xs text-color-9"},[e("v-uni-text",[t._v("可咨询公司财务部门获得「税号」或「社会信用代码」信息")])],1)],1):t._e()],1),e("v-uni-view",{staticClass:"padding flex justify-around"},[e("v-uni-button",{staticClass:"cu-btn bg-red lg flex-sub margin-lr-xs",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deleteInvoice.apply(void 0,arguments)}}},[t._v("删除")]),e("v-uni-button",{staticClass:"cu-btn bg-green lg flex-sub margin-lr-xs",attrs:{"form-type":"submit"}},[t._v("保存")])],1)],1)],1)},s=[];e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return n}))},dae9:function(t,i,e){"use strict";e.r(i);var n=e("d4a7"),a=e("04cd");for(var s in a)"default"!==s&&function(t){e.d(i,t,(function(){return a[t]}))}(s);var o,c=e("f0c5"),u=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"e3d808ba",null,!1,n["a"],o);i["default"]=u.exports}}]);