(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{570:function(t,a,s){"use strict";s.r(a);var e=s(7),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"项目背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目背景"}},[t._v("#")]),t._v(" 项目背景")]),t._v(" "),s("p",[t._v("偶尔我们的网站会遇到这样的需求："),s("code",[t._v("我想把它打印下来")])]),t._v(" "),s("p",[t._v("尤其是当我们的网站主要提供一些在线报表，文档的时候打印功能就显得尤为重要了")]),t._v(" "),s("h2",{attrs:{id:"解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),s("p",[t._v("使用"),s("code",[t._v("print css")]),t._v("，这是跨平台兼容的标准。不推荐使用浏览器插件方式实现打印。")]),t._v(" "),s("h2",{attrs:{id:"两种实现方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#两种实现方式"}},[t._v("#")]),t._v(" 两种实现方式")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("将打印相关样式单独写入一个打印样式表方便管理,然后通过"),s("code",[t._v("link")]),t._v("的方式引入例如:")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("print.css"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("media")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("print"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),s("blockquote",[s("p",[t._v('注意:需要在link标签中加入media="print"属性确保该样式表只在打印文件时生效,这样就可以在其中写正常的样式,保证其只在打印是生效')])])]),t._v(" "),s("li",[s("p",[t._v("通过css中的"),s("code",[t._v("@media print")]),t._v(" 选择器,对 对应元素样式设置你需要的样式,例如:")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@media")]),t._v(" print selector")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nor\n\n"),s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@media")]),t._v(" print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("selector")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("添加了"),s("code",[t._v("@media print")]),t._v("的样式只会在打印时生效,不会影响正常展示时的样式,所以你可以在这里设置针对打印的样式.比如页面的宽度等")]),t._v(" "),s("p",[t._v("这种方式不需要单独建立css样式表,直接在需要的地方写上选择器和样式就可以了")])])])]),t._v(" "),s("h2",{attrs:{id:"特殊设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特殊设置"}},[t._v("#")]),t._v(" 特殊设置")]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("@page")]),t._v("规则")]),t._v(" "),s("ol",[s("li",[s("blockquote",[s("p",[t._v("@page 规则用于在打印文档时修改某些CSS属性。你不能用@page规则来修改所有的CSS属性，而是只能修改")]),t._v(" "),s("p",[t._v("margin,")]),t._v(" "),s("p",[t._v("orphans (当元素内部发生分页时必须在页面底部保留的最少行数),")]),t._v(" "),s("p",[t._v("widow (当元素内部发生分页时必须在页面顶部保留的最少行数),")]),t._v(" "),s("p",[t._v("page breaks of the document(分页设置)。")]),t._v(" "),s("p",[t._v("对其他属性的修改是无效的。")]),t._v(" "),s("p",[t._v("--- MDN: https://developer.mozilla.org/zh-CN/docs/Web/CSS/@page")])])]),t._v(" "),s("li",[s("p",[t._v("代码实例如下")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@page")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("pseudo-class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" A4 landscape"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2cm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[s("blockquote",[s("p",[s("strong",[t._v("这个属性不是很好使用,我在使用过程中就没成功过.等我研究透了再来写.")])])])])])])]),t._v(" "),s("h2",{attrs:{id:"代码详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码详解"}},[t._v("#")]),t._v(" 代码详解")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@media")]),t._v(" print")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* section标签之前总是插入分页符,意思就是每个section标签都会自动分页 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("section")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("page-break-before")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* h1之后总是插入分页符,意思就是h1标签后的内容会被分到下一页 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("h1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("page-break-after")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 避免在p标签中插入分页符,但是当该标签的内容长度超出一页时还是会继续分页 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("page-break-inside")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" avoid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@media")]),t._v(" print")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 当p标签内部发生分页时,页面底部至少保留3行,顶部至少保留2行 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("orphans")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("widows")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"其他"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),s("ol",[s("li",[t._v("对于页面上有显示而不想打印的内容,可以将其display设置为none来避免打印。")]),t._v(" "),s("li",[t._v("需要打印的内容尽量避免float,有些浏览器不会正确的打印浮动的内容。")]),t._v(" "),s("li",[t._v("可以调用window.print()函数来打印当前页面。")]),t._v(" "),s("li",[t._v("分页打印或换页打印：page-break-before和page-break-after 这两个CSS属性并不会修改网页在屏幕上的显示，这两个属性是用来控制文件的打印方式。每个打印属性都可以设定4种设定值：auto、always、left和?right。其中Auto是默认值，只有在有需要时，才需设定分页符号(Page-breaks)。page-break-before若设定成always，则是在遇到特定的组件时，打印机会重新开始一个新的打印页。page-break-before若设定成left，则会插入分页符号，直到指定的组件出现在一个左边的空白页上。page-break-before若设定成right，则会插入分页符号，直到指定的组件出现在一个右边的空白页上。page-break-after属性会将分页符号加在指定组件后，而非之前。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);